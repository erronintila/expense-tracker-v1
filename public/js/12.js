(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{24:function(e,t,a){"use strict";var n=a(10),r=a.n(n);function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,n;return t=e,(a=[{key:"get",value:function(e){return r.a.get("/api/data/users",e)}},{key:"getAll",value:function(e){return r.a.get("/api/users",e)}},{key:"show",value:function(e,t){return r.a.get("/api/users/".concat(e),t)}},{key:"store",value:function(e){return r.a.post("/api/users",e)}},{key:"update",value:function(e,t){return r.a.put("/api/users/".concat(e),t)}},{key:"delete",value:function(e,t){return r.a.delete("/api/users/".concat(e),t)}},{key:"restore",value:function(e,t){return r.a.put("/api/users/restore/".concat(e),t)}},{key:"updatePassword",value:function(e,t){return r.a.put("/api/users/update_password/".concat(e),t)}},{key:"resetPassword",value:function(e,t){return r.a.put("/api/users/reset_password/".concat(e),t)}},{key:"verifyEmail",value:function(e,t){return r.a.put("/api/users/verify_email/".concat(e),t)}},{key:"updateFund",value:function(e,t){return r.a.put("/api/users/update_fund/".concat(e),t)}},{key:"updateSettings",value:function(e,t){return r.a.put("/api/users/update_settings/".concat(e),t)}},{key:"updatePermissions",value:function(e,t){return r.a.put("/api/users/update_permissions/".concat(e),t)}},{key:"updateProfile",value:function(e,t){return r.a.put("/api/users/update_profile/".concat(e),t)}},{key:"updateActivation",value:function(e,t){return r.a.put("/api/users/update_activation/".concat(e),t)}},{key:"export",value:function(){return r.a.get("/api/users/export/data")}}])&&s(t.prototype,a),n&&s(t,n),e}();t.a=new i},27:function(e,t,a){"use strict";var n={name:"page-header",props:{title:""}},r=a(4),s=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card-title",{staticClass:"pt-0"},[a("h4",{staticClass:"title green--text"},[e._v(e._s(e.title))]),e._v(" "),a("v-spacer"),e._v(" "),e._t("actions")],2),e._v(" "),a("v-card-subtitle",[e._t("sub-actions")],2)],1)}),[],!1,null,null,null);t.a=s.exports},28:function(e,t,a){"use strict";var n=a(24);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={props:{selectedUsers:{type:Array,default:function(){return[]}},multipleSelection:{type:Boolean,default:!1},selectedUser:{type:Object,default:null},usersParameters:{type:Object,default:null}},data:function(){return{dialog:!1,loading:!1,collections:{selected:null,items:[]},filters:{search:""},options:{sortBy:["first_name"],sortDesc:[!1],page:1,itemsPerPage:10},meta:{current_page:0,from:0,last_page:0,path:"",per_page:"10",to:0,total:0}}},methods:{onSearch:function(){var e=this;this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))},getDataFromApi:function(){var e=this;return this.loading=!0,new Promise((function(t,a){var r=e.options,i=r.sortBy,o=r.sortDesc,c=r.page,l=r.itemsPerPage,u={search:e.filters.search.trim().toLowerCase(),sortBy:i[0],sortType:o[0]?"desc":"asc",page:c,itemsPerPage:l,isSelection:!0,is_active:!0},d={};d=e.usersParameters&&e.usersParameters.params?{params:s(s({},u),e.usersParameters.params)}:{params:s({},u)},n.a.getAll(d).then((function(a){e.loading=!1,t(a.data)})).catch((function(t){e.mixin_showErrors(t),e.loading=!1,a()}))}))},onReset:function(){return this.dialog=!1,this.filters.search="",this.computedSelectedUser=null,this.options={sortBy:["last_name"],sortDesc:[!1],page:1,itemsPerPage:10},this.$emit("onReset",this.computedSelectedUser)},selectUser:function(e){this.computedSelectedUser=e,this.$emit("selectUser",e)},getJobName:function(e){return e.job?e.job.name:""},getDepartmentName:function(e){return e.job&&e.job.department?e.job.department.name:""}},watch:{"filters.search":function(){var e=this;""==this.filters.search&&this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))},params:{handler:function(){var e=this;this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))},deep:!0},dialog:function(){var e=this;this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))}},computed:{params:function(e){return s({},this.options)},computedSelectedUser:{get:function(){return this.selectedUser?this.selectedUser:null},set:function(e){return e}}},created:function(){var e=this;this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))}},c=a(4),l=Object(c.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[e._t("openDialog",null,null,{attrs:n,on:a,computedSelectedUser:e.computedSelectedUser})]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),a("v-card",[a("v-card-title",[e._v("\n                Employees\n                "),a("v-spacer"),e._v(" "),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(t)}},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})],1),e._v(" "),a("v-list",{staticClass:"overflow-y-auto",attrs:{"max-height":"400","two-line":""}},[a("v-list-item-group",{attrs:{"active-class":"green--text",multiple:e.multipleSelection},on:{change:e.selectUser},model:{value:e.computedSelectedUser,callback:function(t){e.computedSelectedUser=t},expression:"computedSelectedUser"}},[e._l(e.collections.items,(function(t,n){return[a("v-list-item",{key:n,attrs:{value:t}},[[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),e._v(" "),a("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:e._s(e.getJobName(t))}}),e._v(" "),a("v-list-item-subtitle",{domProps:{textContent:e._s(e.getDepartmentName(t))}})],1)]],2)]}))],2)],1),e._v(" "),a("div",[a("v-pagination",{attrs:{length:e.meta.last_page,"total-visible":7},model:{value:e.options.page,callback:function(t){e.$set(e.options,"page",t)},expression:"options.page"}})],1),e._v(" "),a("v-divider"),e._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.onReset}},[e._v("\n                    Reset\n                ")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                    OK\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.a=l.exports},51:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s={props:{dateRange:{type:Array,default:function(){return[r()().startOf("month").format("YYYY-MM-DD"),r()().endOf("month").format("YYYY-MM-DD")]}},datePreset:{type:String,default:"Custom"},datePresets:{type:Array,default:function(){return[{label:"Today",range:[r()().format("YYYY-MM-DD"),r()().format("YYYY-MM-DD")]},{label:"Yesterday",range:[r()().subtract(1,"days").format("YYYY-MM-DD"),r()().subtract(1,"days").format("YYYY-MM-DD")]},{label:"This Week",range:[r()().startOf("week").format("YYYY-MM-DD"),r()().endOf("week").format("YYYY-MM-DD")]},{label:"Last Week",range:[r()().subtract(1,"weeks").startOf("week").format("YYYY-MM-DD"),r()().subtract(1,"weeks").endOf("week").format("YYYY-MM-DD")]},{label:"This Month",range:[r()().startOf("month").format("YYYY-MM-DD"),r()().endOf("month").format("YYYY-MM-DD")]},{label:"Last Month",range:[r()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),r()().subtract(1,"months").endOf("month").format("YYYY-MM-DD")]},{label:"This Quarter",range:[r()().startOf("quarter").format("YYYY-MM-DD"),r()().endOf("quarter").format("YYYY-MM-DD")]},{label:"Last Quarter",range:[r()().subtract(1,"quarters").startOf("quarter").format("YYYY-MM-DD"),r()().subtract(1,"quarters").endOf("quarter").format("YYYY-MM-DD")]},{label:"This Year",range:[r()().startOf("year").format("YYYY-MM-DD"),r()().endOf("year").format("YYYY-MM-DD")]},{label:"Last Year",range:[r()().subtract(1,"years").startOf("year").format("YYYY-MM-DD"),r()().subtract(1,"years").endOf("year").format("YYYY-MM-DD")]},{label:"Last 5 Years",range:[r()().subtract(5,"years").startOf("year").format("YYYY-MM-DD"),r()().subtract(1,"years").endOf("year").format("YYYY-MM-DD")]}]}}},data:function(){return{range:[],preset:{},presets:[],dialog:!1}},methods:{onCancel:function(){this.dialog=!1,this.preset={}},onSave:function(){if(this.range&&2==this.range.length){var e=this.range.sort((function(e,t){return new Date(e)-new Date(t)}));return this.$refs.dialog.save(e),void this.$emit("on-change",e)}this.dialog=!0}},computed:{dateRangeText:function(){return this.range&&this.range.length?this.range.sort((function(e,t){return new Date(e)-new Date(t)})).join(" ~ "):""}},watch:{preset:function(){this.preset&&Object.keys(this.preset).length&&(this.range=this.preset.range)},dateRange:{immediate:!0,handler:function(e,t){this.range=e}},datePreset:{immediate:!0,handler:function(e,t){this.preset=e}},datePresets:{immediate:!0,handler:function(e,t){this.presets=e}}}},i=a(4),o=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{ref:"dialog",attrs:{"return-value":e.range,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.range=t},"update:return-value":function(t){e.range=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[e._t("openDialog",null,null,{on:a,attrs:n,dateRangeText:e.dateRangeText})]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),a("v-card",[a("v-container",[a("v-row",[a("v-col",[a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",dark:"",text:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-calendar")]),e._v(" \n                  "+e._s(e.dateRangeText)+"\n                ")],1)]}}])},[e._v(" "),a("v-list",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"200px"}},[a("v-list-item-group",{model:{value:e.preset,callback:function(t){e.preset=t},expression:"preset"}},e._l(e.presets,(function(t,n){return a("v-list-item",{key:n,attrs:{value:t}},[a("v-list-item-title",[e._v("\n                      "+e._s(t.label)+"\n                    ")])],1)})),1)],1)],1)],1),e._v(" "),e.range&&2!=e.range.length?a("div",{staticClass:"overline red--text text-capitalize"},[e._v("\n            *select 1 more\n          ")]):e._e()])],1),e._v(" "),a("v-divider")],1),e._v(" "),a("v-date-picker",{attrs:{color:"green","no-title":"",range:"",scrollable:""},on:{change:function(t){e.preset={}}},model:{value:e.range,callback:function(t){e.range=t},expression:"range"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.onSave}},[e._v(" OK ")])],1)],1)],1)}),[],!1,null,null,null);t.a=o.exports},68:function(e,t,a){"use strict";var n=a(10),r=a.n(n);function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,n;return t=e,(a=[{key:"getAll",value:function(e){return r.a.get("/api/payments",e)}},{key:"get",value:function(e){return r.a.get("/api/data/payments",e)}},{key:"show",value:function(e,t){return r.a.get("/api/payments/".concat(e),t)}},{key:"store",value:function(e){return r.a.post("/api/payments",e)}},{key:"update",value:function(e,t){return r.a.put("/api/payments/".concat(e),t)}},{key:"delete",value:function(e,t){return r.a.delete("/api/payments/".concat(e),t)}},{key:"restore",value:function(e,t){return r.a.put("/api/payments/restore/".concat(e),t)}},{key:"export",value:function(){return r.a.get("/api/payments/export/data")}}])&&s(t.prototype,a),n&&s(t,n),e}();t.a=new i},888:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=(a(50),a(27)),i=a(51),o=a(28),c=a(68);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m={components:{DateRangePicker:i.a,UserDialogSelector:o.a,PageHeader:s.a},data:function(){return{formDataLoaded:!1,loading:!0,headers:[{text:"Date",value:"date"},{text:"Voucher",value:"voucher_no"},{text:"Employee",value:"user"},{text:"Description",value:"description"},{text:"Amount",value:"amount"},{text:"Last Updated",value:"updated_at"},{text:"Status",value:"status.status"},{text:"Actions",value:"actions",sortable:!1},{text:"",value:"data-table-expand"}],totalAmount:0,items:[],user:this.$store.getters.user.is_admin&&this.mixin_can("view all users payments")?null:this.$store.getters.user,status:"All Payments",statuses:["All Payments","Released Payments","Completed Payments","Cancelled Payments","Deleted Payments"],selected:[],search:"",totalItems:0,options:{sortBy:["updated_at"],sortDesc:[!0],page:1,itemsPerPage:10},date_range:[r()().startOf("month").format("YYYY-MM-DD"),r()().endOf("month").format("YYYY-MM-DD")],preset:"",presets:["Today","Yesterday","Last 7 Days","Last 30 Days","This Week","This Month","This Quarter","This Year","Last Week","Last Month","Last Quarter","Last Year","Last 5 Years"]}},methods:{onSearch:function(){var e=this;this.getDataFromApi().then((function(t){e.items=t.items,e.totalItems=t.total}))},updateDates:function(e){this.date_range=e},selectUser:function(e){this.selected=[],this.user=null!=e&&null!=e?e:null},resetUser:function(){this.selected=[],this.user=null},getDataFromApi:function(){var e=this;return this.loading=!0,new Promise((function(t,a){var n=e.options,r=n.sortBy,s=n.sortDesc,i=n.page,o=n.itemsPerPage,l=e.search.trim().toLowerCase(),u=e.status,d=e.date_range,m=e.user?e.user.id:null;c.a.getAll({params:{search:l,sortBy:r[0],sortType:s[0]?"desc":"asc",page:i,itemsPerPage:o,status:u,start_date:d[0],end_date:d[1]?d[1]:d[0],user_id:m}}).then((function(a){var n=a.data.data,r=a.data.meta.total;e.loading=!1,e.formDataLoaded=!0,t({items:n,total:r})})).catch((function(t){e.mixin_showErrors(t),e.loading=!1,e.formDataLoaded=!0,a()}))}))},onRefresh:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.selected=[]},onShow:function(e){var t={id:e.id};e.deleted_at&&(t={id:e.id,isDeleted:!0}),this.$router.push({name:"user.payments.show",params:t})},onEdit:function(e){this.$router.push({name:"user.payments.edit",params:{id:e.id}})},onUpdate:function(e,t){var a=this;("receive"!=e||this.mixin_can("receive payments"))&&("cancel"!=e||this.mixin_can("cancel payments"))?0!=this.selected.length?"receive"==e&&this.selected.map((function(e){return e.status.status})).includes("Completed")?this.mixin_errorDialog("Error","Payment has already been received"):this.$confirm("Do you want to ".concat(e," payment(s)?")).then((function(n){if(n){var r=a.selected.map((function(e){return e.id})),s="";switch(e){case"receive":s="/api/payments/receive_payment/".concat(r);break;case"complete":s="/api/payments/complete_payment/".concat(r);break;case"cancel":s="/api/payments/cancel_payment/".concat(r);break;case"delete":s="/api/payments/".concat(r);break;default:return void a.mixin_errorDialog("Error","Action can't be processed.")}axios({method:t,url:s}).then((function(e){a.mixin_successDialog(e.data.status,e.data.message),a.getDataFromApi().then((function(e){a.items=e.items,a.totalItems=e.total})),a.$store.dispatch("AUTH_NOTIFICATIONS"),a.selected=[]})).catch((function(e){a.mixin_showErrors(e)}))}})):this.mixin_errorDialog("Error","No item(s) selected"):this.mixin_errorDialog("Error","Not allowed")},isValidEdit:function(e){return!(null!=e.deleted_at||null!=e.cancelled_at||!this.$store.getters.user.is_admin)&&!(null!=e.received_at&&!this.mixin_can("edit completed payments"))}},computed:{showMarkAsReceived:function(){return!!this.selected.length&&!this.selected.some((function(e){return null!=e.received_at||null!=e.cancelled_at}))},showDeletePayment:function(){return!!this.selected.length&&(!!this.$store.getters.user.is_admin&&!this.selected.some((function(e){return null!=e.deleted_at})))},showCancelPayment:function(){return!!this.selected.length&&(!!this.$store.getters.user.is_admin&&!this.selected.some((function(e){return null!=e.deleted_at||null!=e.cancelled_at})))},params:function(e){var t;return u(u({},this.options),{},(d(t={query:this.status},"query",this.date_range),d(t,"query",this.user),t))},formattedDateRange:function(){var e=r()(this.date_range[0]).format("MMM DD, YYYY"),t=r()(this.date_range[1]).format("MMM DD, YYYY");return JSON.stringify(e)==JSON.stringify(t)||null==JSON.stringify(t)?e:"".concat(e," ~ ").concat(t)}},watch:{search:function(){var e=this;""==this.search&&this.getDataFromApi().then((function(t){e.items=t.items,e.totalItems=t.total}))},params:{immediate:!0,deep:!0,handler:function(){var e=this;this.getDataFromApi().then((function(t){e.items=t.items,e.totalItems=t.total}))}},items:function(){this.totalAmount=this.mixin_formatNumber(this.items.reduce((function(e,t){return e+t.amount}),0))}},activated:function(){var e=this;this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.date_range&&(this.date_range=this.$route.params.date_range),this.$store.dispatch("AUTH_USER").then((function(t){e.getDataFromApi().then((function(t){e.items=t.items,e.totalItems=t.total}))}))}},p=a(4),v=Object(p.a)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.formDataLoaded?a("v-card",{staticClass:"elevation-0 pt-0"},[a("page-header",{attrs:{title:"Payment Records"},scopedSlots:e._u([{key:"actions",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([e.mixin_can("add payments")?{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"elevation-3 mr-2",attrs:{color:"green",to:{name:"user.payments.create"},dark:"",fab:"","x-small":""}},"v-btn",r,!1),n),[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)]}}:null],null,!0)},[e._v(" "),a("span",[e._v("Add New Record")])])]},proxy:!0},{key:"sub-actions",fn:function(){return[a("DateRangePicker",{ref:"dateRangePicker",attrs:{dateRange:e.date_range},on:{"on-change":e.updateDates},scopedSlots:e._u([{key:"openDialog",fn:function(t){var n=t.on,r=t.attrs,s=t.dateRangeText;return[a("v-btn",e._g(e._b({staticClass:"ml-0 pl-0",attrs:{text:""}},"v-btn",r,!1),n),[e._v("\n                            "+e._s(s)+"\n                        ")])]}}])})]},proxy:!0}])}),e._v(" "),a("v-row",{staticClass:"ml-4"},[e.selected.length>0?a("v-chip",{staticClass:"mr-2",attrs:{color:"green",dark:"",close:"",small:"","close-icon":"mdi-close"},on:{"click:close":function(t){e.selected=[]}}},[e._v("\n                "+e._s(e.selected.length)+" Selected\n            ")]):e._e(),e._v(" "),a("v-menu",{attrs:{transition:"scale-transition","close-on-content-click":!1,"nudge-width":200,"offset-y":"",right:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-chip",e._g(e._b({staticClass:"mr-2",attrs:{small:""}},"v-chip",r,!1),n),[e._v("\n                        "+e._s(e.status)+"\n                    ")])]}}])},[e._v(" "),a("v-card",[a("v-list",[a("v-list-item",[a("v-select",{attrs:{items:e.statuses,label:"Status"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1)],1)],1)],1),e._v(" "),e.$store.getters.user.is_admin&&e.mixin_can("view all users payments")?a("UserDialogSelector",{ref:"userDialogSelector",attrs:{selectedUser:e.user,usersParameters:{params:{is_superadmin:!1}}},on:{selectUser:e.selectUser,onReset:e.resetUser},scopedSlots:e._u([{key:"openDialog",fn:function(t){var n=t.bind,r=t.on,s=t.computedSelectedUser;return[a("v-chip",e._g(e._b({staticClass:"mr-2 mb-2",attrs:{small:""}},"v-chip",n,!1),r),[e._v("\n                        "+e._s(s?s.name:"All Employees")+"\n                    ")])]}}],null,!1,2347878303)}):e._e(),e._v(" "),a("v-chip",{staticClass:"mr-2",attrs:{close:"",small:"","close-icon":"mdi-refresh"},on:{"click:close":e.onRefresh}},[e._v("\n                Refresh\n            ")]),e._v(" "),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.showMarkAsReceived,expression:"showMarkAsReceived"}],staticClass:"mr-2",attrs:{close:"",small:"","close-icon":"mdi-download",color:"orange",dark:""},on:{"click:close":function(t){return e.onUpdate("receive","put")}}},[e._v("\n                Mark as received\n            ")]),e._v(" "),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.showCancelPayment,expression:"showCancelPayment"}],staticClass:"mr-2",attrs:{close:"",small:"","close-icon":"mdi-close",color:"red",dark:""},on:{"click:close":function(t){return e.onUpdate("cancel","put")}}},[e._v("\n                Cancel Payment(s)\n            ")]),e._v(" "),a("v-chip",{directives:[{name:"show",rawName:"v-show",value:e.showDeletePayment,expression:"showDeletePayment"}],staticClass:"mr-2",attrs:{close:"",small:"","close-icon":"mdi-close",color:"red",dark:""},on:{"click:close":function(t){return e.onUpdate("delete","delete")}}},[e._v("\n                Delete Payment(s)\n            ")])],1),e._v(" "),a("v-card-subtitle",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(t)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),a("v-card-text",[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.headers,items:e.items,loading:e.loading,options:e.options,"server-items-length":e.totalItems,"footer-props":{itemsPerPageOptions:[10,20,50,100],showFirstLastPage:!0,firstIcon:"mdi-page-first",lastIcon:"mdi-page-last",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right"},"show-select":"","show-expand":"","single-expand":"","item-key":"id"},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var n=t.headers,r=t.item;return[a("td",{attrs:{colspan:n.length}},[a("v-container",[a("table",[a("tr",[a("td",[a("strong",[e._v("Created")])]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v("\n                                        "+e._s(e.mixin_formatDate(r.created_at,"YYYY-MM-DD HH:mm:ss"))+"\n                                    ")])]),e._v(" "),a("tr",[a("td",[a("strong",[e._v("Code")])]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(r.code))])]),e._v(" "),a("tr",[a("td",[a("strong",[e._v("Reference No.")])]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(r.reference_no))])]),e._v(" "),a("tr",[a("td",[a("strong",[e._v("Remarks")])]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(r.remarks))])])])])],1)]}},{key:"item.status.status",fn:function(t){var n=t.item;return[a("v-chip",{attrs:{color:n.status.color,dark:"",small:""}},[e._v(e._s(n.status.status))])]}},{key:"item.user",fn:function(t){var a=t.item;return[e._v("\n                    "+e._s(""+a.user.full_name)+"\n                ")]}},{key:"item.created_at",fn:function(t){var a=t.item;return[e._v("\n                    "+e._s(e.mixin_getHumanDate(a.created_at))+"\n                ")]}},{key:"item.updated_at",fn:function(t){var a=t.item;return[e._v("\n                    "+e._s(e.mixin_getHumanDate(a.updated_at))+"\n                ")]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:null==n.deleted_at,expression:"item.deleted_at == null"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.onShow(n)}}},[e._v("\n                        mdi-eye\n                    ")]),e._v(" "),a("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.isValidEdit(n),expression:"isValidEdit(item)"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.onEdit(n)}}},[e._v("\n                        mdi-pencil\n                    ")])]}},{key:"item.amount",fn:function(t){var a=t.item;return[e._v("\n                    "+e._s(e.mixin_formatNumber(a.amount))+"\n                ")]}}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v(" "),e._v(" "),e._v(" "),e._v(" "),e._v(" "),e._v(" "),e._v(" "),e.items.length>0?a("template",{slot:"body.append"},[a("tr",{staticClass:"green--text hidden-md-and-up"},[a("td",{staticClass:"title"},[e._v("\n                            Total: "),a("strong",[e._v(e._s(e.totalAmount))])])]),e._v(" "),a("tr",{staticClass:"green--text hidden-sm-and-down"},[a("td",{staticClass:"title"},[e._v("Total")]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td",[a("strong",[e._v(e._s(e.totalAmount))])]),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td"),e._v(" "),a("td")])]):e._e()],2)],1)],1):a("loader-component")],1)}),[],!1,null,null,null);t.default=v.exports}}]);