(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{164:function(e,t,r){"use strict";var a=r(1),n=r.n(a),o=r(51),s=r(41);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={props:{payment_id:{type:Number,default:null},isEdit:{type:Boolean,default:!1},paymentForm:{type:Object,default:function(){}},paymentErrors:{type:Object,default:function(){return{user_id:[],code:[],reference_no:[],voucher_no:[],description:[],date:[],cheque_no:[],cheque_date:[],amount:[],payee:[],payee_address:[],payee_phone:[],remarks:[],notes:[],expense_reports:[]}}},paymentRules:{}},components:{DateRangePicker:o.a},data:function(){return{valid:!1,menu:!1,date_range:[n()().startOf("week").format("YYYY-MM-DD"),n()().endOf("week").format("YYYY-MM-DD")],headers:[{text:"Period",value:"period",sortable:!1},{text:"Code",value:"code",sortable:!1},{text:"Description",value:"description",sortable:!1},{text:"Amount",value:"total",sortable:!1},{text:"",value:"actions",sortable:!1},{text:"",value:"data-table-expand",sortable:!1}],items:[],selected:[],totalItems:0,loading:!1,options:{sortBy:["created_at"],sortDesc:[!0],page:1,itemsPerPage:10},totalAmount:0,totalPaidAmount:0,totalReimbursedAmount:0,form:{id:null,code:"",reference_no:"",voucher_no:"",description:"",date:n()().format("YYYY-MM-DD"),cheque_no:"",cheque_date:"",amount:0,payee:"",payee_address:"",payee_phone:"",remarks:"",notes:"",user:null,expense_reports:[]}}},methods:{updateDates:function(e){this.date_range=e},getDataFromApi:function(){var e=this;return this.loading=!0,new Promise((function(t,r){var a=e.options,n=a.sortBy,o=a.sortDesc,i=a.page,u=a.itemsPerPage,l=e.form.user?e.form.user.id:null,c=e.date_range,d={params:{sortBy:n[0],sortType:o[0]?"desc":"asc",page:i,itemsPerPage:u,user_id:l,start_date:c[0],end_date:c[1]?c[1]:c[0],admin_page:!0,update_payment:!0}};e.isEdit&&(d.params.payment_id=e.payment_id),s.a.getAll(d).then((function(r){var a=r.data.data,n=r.data.meta.total;e.loading=!1,e.formDataLoaded=!0,t({items:a,total:n})})).catch((function(t){e.mixin_showErrors(t),e.loading=!1,e.formDataLoaded=!0,r()}))}))},onSave:function(){this.$refs.form.validate(),this.form.user?0!=this.selected.length?this.$refs.form.validate()&&(this.form.expense_reports=this.selected,this.form.user_id=this.form.user?this.form.user.id:null,this.form.amount=parseFloat(this.totalAmount),this.$emit("on-save",this.form)):this.mixin_errorDialog("Error","No Expense Report selected."):this.mixin_errorDialog("Error","No Employee selected.")}},computed:{params:function(e){return u(u({},this.options),{},l({query:this.form.user},"query",this.date_range))},maxDate:function(){return n()().format("YYYY-MM-DD")}},watch:{params:{deep:!0,handler:function(){var e=this;this.getDataFromApi().then((function(t){e.items=t.items,e.totalItems=t.total}))}},paymentForm:{deep:!0,immediate:!0,handler:function(e){this.form=e,this.isEdit&&(this.selected=e.expense_reports,e&&e.expense_reports&&(this.totalAmount=this.mixin_formatNumber(e.expense_reports.reduce((function(e,t){return e+t.total}),0)),this.totalPaidAmount=this.mixin_formatNumber(e.expense_reports.reduce((function(e,t){return e+t.total}),0)),this.totalReimbursedAmount=this.totalAmount-this.totalPaidAmount,e.expense_reports.length>0&&(this.paymentErrors.expense_reports=[])))}},selected:function(){this.totalAmount=this.mixin_formatNumber(this.selected.reduce((function(e,t){return e+t.total}),0)),this.totalPaidAmount=this.mixin_formatNumber(this.selected.reduce((function(e,t){return e+t.total}),0)),this.totalReimbursedAmount=this.totalAmount-this.totalPaidAmount}}},d=r(4),p=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-card",{staticClass:"mx-auto mb-4",attrs:{flat:""}},[r("div",{staticClass:"overline green--text"},[e._v("\n            BASIC DETAILS\n        ")]),e._v(" "),r("v-menu",{ref:"menu",attrs:{transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{"error-messages":e.paymentErrors.date,label:"Date",readonly:""},on:{input:function(t){e.paymentErrors.date=[]}},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},"v-text-field",n,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),r("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"success",max:e.maxDate},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),e._t("userSelector"),e._v(" "),r("v-text-field",{attrs:{rules:e.mixin_validation.required.concat(e.mixin_validation.minLength(100)),counter:100,"error-messages":e.paymentErrors.description,label:"Description",required:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}}),e._v(" "),r("v-text-field",{attrs:{rules:[].concat(e.mixin_validation.required),"error-messages":e.paymentErrors.voucher_no,counter:100,label:"Voucher No.",required:"",type:"number"},model:{value:e.form.voucher_no,callback:function(t){e.$set(e.form,"voucher_no",t)},expression:"form.voucher_no"}}),e._v(" "),r("div",{staticClass:"overline green--text mb-4"},[e._v("\n            Expense Reports\n        ")]),e._v(" "),e.paymentErrors.expense_reports&&e.paymentErrors.expense_reports.length>0?r("small",{staticClass:"red--text"},[e._v("\n            "+e._s(e.paymentErrors.expense_reports[0])+"\n        ")]):e._e(),e._v(" "),r("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.headers,items:e.items,loading:e.loading,options:e.options,"server-items-length":e.totalItems,"footer-props":{itemsPerPageOptions:[10,20,50,100],showFirstLastPage:!0,firstIcon:"mdi-page-first",lastIcon:"mdi-page-last",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right"},"show-expand":"","single-expand":"","show-select":"","item-key":"id"},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[r("DateRangePicker",{ref:"dateRangePicker",attrs:{dateRange:e.date_range},on:{"on-change":e.updateDates},scopedSlots:e._u([{key:"openDialog",fn:function(t){var a=t.on,n=t.attrs,o=t.dateRangeText;return[r("v-text-field",e._g(e._b({attrs:{label:"Date Created",readonly:"",value:o}},"v-text-field",n,!1),a))]}}])}),e._v(" "),e.selected.length>0?r("div",[r("div",{staticClass:"d-inline"},[e._v("\n                        "+e._s(e.selected.length)+" Item(s) Selected\n                    ")]),e._v(" "),r("v-btn",{on:{click:function(t){e.selected=[]}}},[e._v("\n                        Clear All Selected\n                    ")])],1):e._e()]},proxy:!0},{key:"item.period",fn:function(t){var r=t.item;return[e._v("\n                "+e._s(r.from)+" ~ "+e._s(r.to)+"\n            ")]}},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.$router.push("/expense_reports/"+a.id)}}},[e._v("\n                    mdi-eye\n                ")])]}},{key:"expanded-item",fn:function(t){var a=t.headers,n=t.item;return[r("td",{attrs:{colspan:a.length}},[r("v-container",[r("table",[r("tr",[r("td",[r("strong",[e._v("Created")])]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",[e._v("\n                                    "+e._s(e.mixin_formatDate(n.created_at,"YYYY-MM-DD HH:mm:ss"))+"\n                                ")])]),e._v(" "),r("tr",[r("td",[r("strong",[e._v("Reimbursable Amount")])]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",[e._v("\n                                    "+e._s(e.mixin_formatNumber(n.total_reimbursable))+"\n                                ")])]),e._v(" "),r("tr",[r("td",[r("strong",[e._v("Paid")])]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",[e._v("\n                                    "+e._s(e.mixin_formatNumber(n.paid))+"\n                                ")])]),e._v(" "),n.balance>0?r("tr",[r("td",[r("strong",[e._v("Balance")])]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",[e._v("\n                                    "+e._s(e.mixin_formatNumber(n.balance))+"\n                                ")])]):e._e(),e._v(" "),r("tr",[r("td",[r("strong",[e._v("Status")])]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",[e._v("\n                                    "+e._s(n.status.status)+"\n                                    ("+e._s(n.status.remarks)+")\n                                ")])]),e._v(" "),n.remarks?r("tr",[r("td",[r("strong",[e._v("Remarks")])]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",[e._v(e._s(n.remarks))])]):e._e()])])],1)]}},{key:"item.total",fn:function(t){var r=t.item;return[e._v("\n                "+e._s(e.mixin_formatNumber(r.total))+"\n            ")]}},{key:"item.user",fn:function(t){var r=t.item;return[e._v("\n                "+e._s(r.last_name+", "+r.first_name)+"\n            ")]}},{key:"item.updated_at",fn:function(t){var r=t.item;return[e._v("\n                "+e._s(e.mixin_getHumanDate(r.updated_at))+"\n            ")]}}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v(" "),e._v(" "),e._v(" "),e._v(" "),e._v(" "),e._v(" "),e._v(" "),e.items.length>0?r("template",{slot:"body.append"},[r("tr",{staticClass:"green--text hidden-md-and-up"},[r("td",{staticClass:"title"},[e._v("\n                        Total:\n                        "),r("strong",[e._v(e._s(e.totalAmount))])])]),e._v(" "),r("tr",{staticClass:"green--text hidden-sm-and-down"},[r("td",{staticClass:"title"},[e._v("Total")]),e._v(" "),r("td"),e._v(" "),r("td"),e._v(" "),r("td"),e._v(" "),r("td",[r("strong",[e._v(e._s(e.totalAmount))])]),e._v(" "),r("td"),e._v(" "),r("td")])]):e._e()],2),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-textarea",{attrs:{label:"Remarks",rows:3},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("table",{staticClass:"mt-4",attrs:{width:"100%"}},[r("tbody",[r("tr",[r("td",[e._v("\n                                Total Expense Amount\n                            ")]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",{staticClass:"green--text text--darken-4 text-right"},[e._v("\n                                "+e._s(e.mixin_formatNumber(e.totalAmount))+"\n                            ")])]),e._v(" "),r("tr",[r("td",[e._v("\n                                Paid Amount\n                            ")]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",{staticClass:"green--text text--darken-4 text-right"},[e._v("\n                                (-)\n                                "+e._s(e.mixin_formatNumber(e.totalPaidAmount))+"\n                            ")])]),e._v(" "),r("tr",[r("td",{attrs:{colspan:"3"}},[r("v-divider")],1)]),e._v(" "),r("tr",[r("th",{staticClass:"text-left"},[e._v("\n                                Amount to be reimbursed\n                            ")]),e._v(" "),r("td",[e._v(":")]),e._v(" "),r("td",{staticClass:"green--text text--darken-4 text-right"},[e._v("\n                                "+e._s(e.mixin_formatNumber(e.totalReimbursedAmount))+"\n                            ")])])])])])],1),e._v(" "),r("v-row",[r("v-col",{staticClass:"text-right"},[r("v-btn",{attrs:{color:"green",dark:""},on:{click:e.onSave}},[e._v("Save")]),e._v(" "),r("v-btn",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("\n                    Cancel\n                ")])],1)],1)],2)],1)}),[],!1,null,null,null);t.a=p.exports},24:function(e,t,r){"use strict";var a=r(10),n=r.n(a);function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,(r=[{key:"get",value:function(e){return n.a.get("/api/data/users",e)}},{key:"getAll",value:function(e){return n.a.get("/api/users",e)}},{key:"show",value:function(e,t){return n.a.get("/api/users/".concat(e),t)}},{key:"store",value:function(e){return n.a.post("/api/users",e)}},{key:"update",value:function(e,t){return n.a.put("/api/users/".concat(e),t)}},{key:"delete",value:function(e,t){return n.a.delete("/api/users/".concat(e),t)}},{key:"restore",value:function(e,t){return n.a.put("/api/users/restore/".concat(e),t)}},{key:"updatePassword",value:function(e,t){return n.a.put("/api/users/update_password/".concat(e),t)}},{key:"resetPassword",value:function(e,t){return n.a.put("/api/users/reset_password/".concat(e),t)}},{key:"verifyEmail",value:function(e,t){return n.a.put("/api/users/verify_email/".concat(e),t)}},{key:"updateFund",value:function(e,t){return n.a.put("/api/users/update_fund/".concat(e),t)}},{key:"updateSettings",value:function(e,t){return n.a.put("/api/users/update_settings/".concat(e),t)}},{key:"updatePermissions",value:function(e,t){return n.a.put("/api/users/update_permissions/".concat(e),t)}},{key:"updateProfile",value:function(e,t){return n.a.put("/api/users/update_profile/".concat(e),t)}},{key:"updateActivation",value:function(e,t){return n.a.put("/api/users/update_activation/".concat(e),t)}},{key:"export",value:function(){return n.a.get("/api/users/export/data")}}])&&o(t.prototype,r),a&&o(t,a),e}();t.a=new s},28:function(e,t,r){"use strict";var a=r(24);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i={props:{selectedUsers:{type:Array,default:function(){return[]}},multipleSelection:{type:Boolean,default:!1},selectedUser:{type:Object,default:null},usersParameters:{type:Object,default:null}},data:function(){return{dialog:!1,loading:!1,collections:{selected:null,items:[]},filters:{search:""},options:{sortBy:["first_name"],sortDesc:[!1],page:1,itemsPerPage:10},meta:{current_page:0,from:0,last_page:0,path:"",per_page:"10",to:0,total:0}}},methods:{onSearch:function(){var e=this;this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))},getDataFromApi:function(){var e=this;return this.loading=!0,new Promise((function(t,r){var n=e.options,s=n.sortBy,i=n.sortDesc,u=n.page,l=n.itemsPerPage,c={search:e.filters.search.trim().toLowerCase(),sortBy:s[0],sortType:i[0]?"desc":"asc",page:u,itemsPerPage:l,isSelection:!0,is_active:!0},d={};d=e.usersParameters&&e.usersParameters.params?{params:o(o({},c),e.usersParameters.params)}:{params:o({},c)},a.a.getAll(d).then((function(r){e.loading=!1,t(r.data)})).catch((function(t){e.mixin_showErrors(t),e.loading=!1,r()}))}))},onReset:function(){return this.dialog=!1,this.filters.search="",this.computedSelectedUser=null,this.options={sortBy:["last_name"],sortDesc:[!1],page:1,itemsPerPage:10},this.$emit("onReset",this.computedSelectedUser)},selectUser:function(e){this.computedSelectedUser=e,this.$emit("selectUser",e)},getJobName:function(e){return e.job?e.job.name:""},getDepartmentName:function(e){return e.job&&e.job.department?e.job.department.name:""}},watch:{"filters.search":function(){var e=this;""==this.filters.search&&this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))},params:{handler:function(){var e=this;this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))},deep:!0},dialog:function(){var e=this;this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))}},computed:{params:function(e){return o({},this.options)},computedSelectedUser:{get:function(){return this.selectedUser?this.selectedUser:null},set:function(e){return e}}},created:function(){var e=this;this.getDataFromApi().then((function(t){e.collections.items=t.data,e.meta=t.meta}))}},u=r(4),l=Object(u.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[e._t("openDialog",null,null,{attrs:a,on:r,computedSelectedUser:e.computedSelectedUser})]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-card-title",[e._v("\n                Employees\n                "),r("v-spacer"),e._v(" "),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch(t)}},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})],1),e._v(" "),r("v-list",{staticClass:"overflow-y-auto",attrs:{"max-height":"400","two-line":""}},[r("v-list-item-group",{attrs:{"active-class":"green--text",multiple:e.multipleSelection},on:{change:e.selectUser},model:{value:e.computedSelectedUser,callback:function(t){e.computedSelectedUser=t},expression:"computedSelectedUser"}},[e._l(e.collections.items,(function(t,a){return[r("v-list-item",{key:a,attrs:{value:t}},[[r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:e._s(t.name)}}),e._v(" "),r("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:e._s(e.getJobName(t))}}),e._v(" "),r("v-list-item-subtitle",{domProps:{textContent:e._s(e.getDepartmentName(t))}})],1)]],2)]}))],2)],1),e._v(" "),r("div",[r("v-pagination",{attrs:{length:e.meta.last_page,"total-visible":7},model:{value:e.options.page,callback:function(t){e.$set(e.options,"page",t)},expression:"options.page"}})],1),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.onReset}},[e._v("\n                    Reset\n                ")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                    OK\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.a=l.exports},41:function(e,t,r){"use strict";var a=r(10),n=r.n(a);function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,(r=[{key:"getAll",value:function(e){return n.a.get("/api/expense_reports",e)}},{key:"get",value:function(e){return n.a.get("/api/data/expense_reports",e)}},{key:"show",value:function(e,t){return n.a.get("/api/expense_reports/".concat(e),t)}},{key:"store",value:function(e){return n.a.post("/api/expense_reports",e)}},{key:"update",value:function(e,t){return n.a.put("/api/expense_reports/".concat(e),t)}},{key:"delete",value:function(e,t){return n.a.delete("/api/expense_reports/".concat(e),t)}},{key:"restore",value:function(e,t){return n.a.put("/api/expense_reports/restore/".concat(e),t)}},{key:"submit",value:function(e,t){return n.a.put("/api/expense_reports/submit/".concat(e),t)}},{key:"approve",value:function(e,t){return n.a.put("/api/expense_reports/approve/".concat(e),t)}},{key:"reject",value:function(e,t){return n.a.put("/api/expense_reports/reject/".concat(e),t)}},{key:"duplicate",value:function(e,t){return n.a.put("/api/expense_reports/duplicate/".concat(e),t)}},{key:"export",value:function(){return n.a.get("/api/expense_reports/export/data")}}])&&o(t.prototype,r),a&&o(t,a),e}();t.a=new s},51:function(e,t,r){"use strict";var a=r(1),n=r.n(a),o={props:{dateRange:{type:Array,default:function(){return[n()().startOf("month").format("YYYY-MM-DD"),n()().endOf("month").format("YYYY-MM-DD")]}},datePreset:{type:String,default:"Custom"},datePresets:{type:Array,default:function(){return[{label:"Today",range:[n()().format("YYYY-MM-DD"),n()().format("YYYY-MM-DD")]},{label:"Yesterday",range:[n()().subtract(1,"days").format("YYYY-MM-DD"),n()().subtract(1,"days").format("YYYY-MM-DD")]},{label:"This Week",range:[n()().startOf("week").format("YYYY-MM-DD"),n()().endOf("week").format("YYYY-MM-DD")]},{label:"Last Week",range:[n()().subtract(1,"weeks").startOf("week").format("YYYY-MM-DD"),n()().subtract(1,"weeks").endOf("week").format("YYYY-MM-DD")]},{label:"This Month",range:[n()().startOf("month").format("YYYY-MM-DD"),n()().endOf("month").format("YYYY-MM-DD")]},{label:"Last Month",range:[n()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),n()().subtract(1,"months").endOf("month").format("YYYY-MM-DD")]},{label:"This Quarter",range:[n()().startOf("quarter").format("YYYY-MM-DD"),n()().endOf("quarter").format("YYYY-MM-DD")]},{label:"Last Quarter",range:[n()().subtract(1,"quarters").startOf("quarter").format("YYYY-MM-DD"),n()().subtract(1,"quarters").endOf("quarter").format("YYYY-MM-DD")]},{label:"This Year",range:[n()().startOf("year").format("YYYY-MM-DD"),n()().endOf("year").format("YYYY-MM-DD")]},{label:"Last Year",range:[n()().subtract(1,"years").startOf("year").format("YYYY-MM-DD"),n()().subtract(1,"years").endOf("year").format("YYYY-MM-DD")]},{label:"Last 5 Years",range:[n()().subtract(5,"years").startOf("year").format("YYYY-MM-DD"),n()().subtract(1,"years").endOf("year").format("YYYY-MM-DD")]}]}}},data:function(){return{range:[],preset:{},presets:[],dialog:!1}},methods:{onCancel:function(){this.dialog=!1,this.preset={}},onSave:function(){if(this.range&&2==this.range.length){var e=this.range.sort((function(e,t){return new Date(e)-new Date(t)}));return this.$refs.dialog.save(e),void this.$emit("on-change",e)}this.dialog=!0}},computed:{dateRangeText:function(){return this.range&&this.range.length?this.range.sort((function(e,t){return new Date(e)-new Date(t)})).join(" ~ "):""}},watch:{preset:function(){this.preset&&Object.keys(this.preset).length&&(this.range=this.preset.range)},dateRange:{immediate:!0,handler:function(e,t){this.range=e}},datePreset:{immediate:!0,handler:function(e,t){this.preset=e}},datePresets:{immediate:!0,handler:function(e,t){this.presets=e}}}},s=r(4),i=Object(s.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{ref:"dialog",attrs:{"return-value":e.range,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.range=t},"update:return-value":function(t){e.range=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[e._t("openDialog",null,null,{on:r,attrs:a,dateRangeText:e.dateRangeText})]}}],null,!0),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-container",[r("v-row",[r("v-col",[r("div",{staticClass:"text-center"},[r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({attrs:{color:"primary",dark:"",text:""}},"v-btn",n,!1),a),[r("v-icon",[e._v("mdi-calendar")]),e._v("Â \n                  "+e._s(e.dateRangeText)+"\n                ")],1)]}}])},[e._v(" "),r("v-list",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"200px"}},[r("v-list-item-group",{model:{value:e.preset,callback:function(t){e.preset=t},expression:"preset"}},e._l(e.presets,(function(t,a){return r("v-list-item",{key:a,attrs:{value:t}},[r("v-list-item-title",[e._v("\n                      "+e._s(t.label)+"\n                    ")])],1)})),1)],1)],1)],1),e._v(" "),e.range&&2!=e.range.length?r("div",{staticClass:"overline red--text text-capitalize"},[e._v("\n            *select 1 more\n          ")]):e._e()])],1),e._v(" "),r("v-divider")],1),e._v(" "),r("v-date-picker",{attrs:{color:"green","no-title":"",range:"",scrollable:""},on:{change:function(t){e.preset={}}},model:{value:e.range,callback:function(t){e.range=t},expression:"range"}},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.onCancel}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.onSave}},[e._v(" OK ")])],1)],1)],1)}),[],!1,null,null,null);t.a=i.exports},68:function(e,t,r){"use strict";var a=r(10),n=r.n(a);function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,(r=[{key:"getAll",value:function(e){return n.a.get("/api/payments",e)}},{key:"get",value:function(e){return n.a.get("/api/data/payments",e)}},{key:"show",value:function(e,t){return n.a.get("/api/payments/".concat(e),t)}},{key:"store",value:function(e){return n.a.post("/api/payments",e)}},{key:"update",value:function(e,t){return n.a.put("/api/payments/".concat(e),t)}},{key:"delete",value:function(e,t){return n.a.delete("/api/payments/".concat(e),t)}},{key:"restore",value:function(e,t){return n.a.put("/api/payments/restore/".concat(e),t)}},{key:"export",value:function(){return n.a.get("/api/payments/export/data")}}])&&o(t.prototype,r),a&&o(t,a),e}();t.a=new s}}]);