(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{130:function(t,e){t.exports="/images/user.png?5405d77c51fb46a0cbf26cb96fe4da4d"},151:function(t,e,i){var n=i(443);"string"==typeof n&&(n=[[t.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(9)(n,a);n.locals&&(t.exports=n.locals)},442:function(t,e,i){"use strict";var n=i(151);i.n(n).a},443:function(t,e,i){(t.exports=i(8)(!1)).push([t.i,"#app[data-v-09a3284a]{overflow:hidden;width:100vw}.fade-enter[data-v-09a3284a],.fade-leave-to[data-v-09a3284a]{opacity:0}.fade-enter-active[data-v-09a3284a],.fade-leave-active[data-v-09a3284a]{transition:all .3s ease}",""])},872:function(t,e,i){"use strict";i.r(e);var n={name:"application-bar",props:{showNotificationDrawer:{type:Boolean,default:!1}},data:function(){return{drawer:!0,notificationDrawer:!1}},methods:{onLogout:function(){this.$emit("on-logout")}},watch:{drawer:function(){this.$emit("show-drawer",this.drawer)},notificationDrawer:function(){this.$emit("show-notification-drawer",this.notificationDrawer)},showNotificationDrawer:{immediate:!0,handler:function(t){this.notificationDrawer=t}}}},a=i(4),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.mixin_loggedIn?i("v-app-bar",{staticClass:"elevation-1",attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",color:"green",dark:""}},[i("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),i("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[i("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:{name:"user.dashboard.index"}}},[i("span",{staticClass:"title"},[t._v("Expense Tracker")])])],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.notificationDrawer=!t.notificationDrawer}}},"v-btn",a,!1),n),[i("v-badge",{attrs:{content:t.$store.getters.notifications.data.length,value:t.$store.getters.notifications.data.length,color:"red",overlap:""}},[i("v-icon",[t._v("mdi-bell")])],1)],1)]}}],null,!1,3801761893)},[t._v(" "),i("span",[t._v("Notifications")])]),t._v(" "),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""},on:{click:t.onLogout}},"v-btn",a,!1),n),[i("v-icon",[t._v("mdi-logout")])],1)]}}],null,!1,2733129345)},[t._v(" "),i("span",[t._v("Log out")])])],1):t._e()}),[],!1,null,null,null).exports,r={name:"navigation-drawer",props:{user:{type:Object,default:function(){return{name:"",username:"",email:""}}},showNavigationDrawer:{type:Boolean,default:!0}},data:function(){return{drawer:!0,items:[{icon:"mdi-chart-areaspline",text:"Dashboard",link:{name:"user.dashboard.index"}},{icon:"mdi-cash-multiple",text:"Expenses",link:{name:"user.expenses.index"}},{icon:"mdi-file-chart",text:"Expense Reports",link:{name:"user.expense_reports.index"}},{icon:"mdi-currency-usd",text:"Payment Records",link:{name:"user.payments.index"}}]}},beforeMount:function(){if(this.$store.getters.user.is_admin){var t=[];this.mixin_can("view all users")&&t.push({icon:"mdi-clipboard-account",text:"Employees",link:{name:"admin.users.index"}}),this.mixin_can("view all vendors")&&t.push({icon:"mdi-account-group",text:"Vendors",link:{name:"admin.vendors.index"}}),this.mixin_can("view all departments")&&t.push({icon:"mdi-clipboard-file",text:"Departments",link:{name:"admin.departments.index"}}),this.mixin_can("view all jobs")&&t.push({icon:"mdi-briefcase",text:"Job Designations",link:{name:"admin.jobs.index"}}),this.mixin_can("view all expense types")&&t.push({icon:"mdi-file-cog-outline",text:"Expense Types",link:{name:"admin.expense_types.index"}}),this.mixin_can("view all activity logs")&&t.push({icon:"mdi-format-list-numbered",text:"Activity Logs",link:{name:"admin.activity_logs.index"}}),this.mixin_can("manage settings")&&t.push({icon:"mdi-cog",text:"Settings",link:{name:"admin.settings.index"}}),this.items.push({icon:"mdi-chevron-up","icon-alt":"mdi-chevron-down",text:"More",model:!1,children:t})}},methods:{onLogout:function(){this.$emit("on-logout")}},watch:{showNavigationDrawer:{handler:function(t){this.drawer=t}},drawer:function(){this.$emit("show-drawer",this.drawer)}}},s=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.mixin_loggedIn?n("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,floating:"",app:""},scopedSlots:t._u([{key:"append",fn:function(){return[n("div",{staticClass:"pa-2"},[n("v-btn",{attrs:{block:"",color:"green",dark:"",outlined:""},on:{click:t.onLogout}},[t._v("\n                Logout\n            ")])],1)]},proxy:!0}],null,!1,583211479),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:"",shaped:""}},[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("img",{attrs:{src:i(130)}})]),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("router-link",{staticClass:"text-decoration-none",staticStyle:{color:"#4caf50"},attrs:{to:{name:"user.profile.index"}}},[t._v("\n                        "+t._s(t.user.name)+"\n                    ")])],1),t._v(" "),n("v-list-item-subtitle",[t._v("\n                    "+t._s(t.user.email)+"\n                ")])],1)],1),t._v(" "),t._l(t.items,(function(e){return[e.heading?n("v-row",{key:e.heading,attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[e.heading?n("v-subheader",[t._v("\n                        "+t._s(e.heading)+"\n                    ")]):t._e()],1),t._v(" "),n("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[n("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):e.children?n("v-list-group",{key:e.text,attrs:{color:"green","prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[t._v("\n                            "+t._s(e.text)+"\n                        ")])],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(i){t.$set(e,"model",i)},expression:"item.model"}},[t._v(" "),t._l(e.children,(function(e,i){return n("v-list-item",{key:i,attrs:{to:e.link,link:""}},[e.icon?n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1):t._e(),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n                            "+t._s(e.text)+"\n                        ")])],1)],1)}))],2):n("v-list-item",{key:e.text,attrs:{color:"green",to:e.link,link:""}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n                        "+t._s(e.text)+"\n                    ")])],1)],1)]}))],2)],1):t._e()}),[],!1,null,null,null).exports,c={name:"notification-drawer",props:{appNotificationDrawer:{type:Boolean,default:!1}},data:function(){return{notificationDrawer:!1}},methods:{redirectPage:function(t){var e=this;axios.put("/api/notifications/".concat(t.id,"?action=","read","&type=","single")).then((function(i){e.$store.dispatch("AUTH_NOTIFICATIONS"),window.location.replace("/".concat(t.data.data.model,"/").concat(t.data.data.id))})).catch((function(t){e.mixin_showErrors(t)}))}},watch:{appNotificationDrawer:{immediate:!0,handler:function(t){this.notificationDrawer=t}},notificationDrawer:function(){this.$emit("show-notification-drawer",this.notificationDrawer)}}},l={name:"page-footer",data:function(){return{company_name:"Twin-Circa Marketing",year:"2020"}}},d={name:"app",components:{ApplicationBar:o,NavigationDrawer:s,NotificationDrawer:Object(a.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-navigation-drawer",{attrs:{right:"",fixed:"",app:"",temporary:"",clipped:t.$vuetify.breakpoint.lgAndUp,floating:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-avatar",[i("v-icon",[t._v("mdi-bell")])],1),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v("Notifications")]),t._v(" "),t.$store.getters.notifications.data.length>0?i("v-list-item-subtitle",[t._v("\n                    "+t._s(t.$store.getters.notifications.data.length)+"\n                    Unread\n                ")]):i("v-list-item-subtitle",[t._v("\n                    No notifications\n                ")]),t._v(" "),i("v-list-item-title",[i("router-link",{staticClass:"text-decoration-none",staticStyle:{color:"#4caf50"},attrs:{to:{name:"user.notifications.index"}}},[t._v("\n                        View all\n                    ")])],1)],1)],1)]},proxy:!0}]),model:{value:t.notificationDrawer,callback:function(e){t.notificationDrawer=e},expression:"notificationDrawer"}},[t._v(" "),i("v-divider"),t._v(" "),i("v-list",{attrs:{"two-line":""}},[i("v-list-item-group",{attrs:{"active-class":""}},[t._l(t.$store.getters.notifications.data,(function(e,n){return[i("v-list-item",{key:e.id,on:{click:function(i){return t.redirectPage(e)}}},[[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.data.data.user.full_name)}}),t._v(" "),i("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:t._s(e.data.data.description)}}),t._v(" "),i("v-list-item-subtitle",{domProps:{textContent:t._s(t.mixin_getHumanDate(e.created_at))}})],1)]],2),t._v(" "),n<t.$store.getters.notifications.data.length-1?i("v-divider",{key:n}):t._e()]}))],2)],1)],1)}),[],!1,null,null,null).exports,PageFooter:Object(a.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{attrs:{fixed:"",padless:""}},[e("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[e("small",[this._v("\n            © "+this._s(this.year)+" Copyright — "),e("strong",[this._v(this._s(this.company_name))])])])],1)}),[],!1,null,null,null).exports},data:function(){return{user:{name:"",username:"",email:""},drawer:!0,notificationDrawer:!1}},methods:{showDrawer:function(t){this.drawer=t},showNotificationDrawer:function(t){this.notificationDrawer=t},toProfile:function(){this.$router.push({name:"user.profile.index"},(function(){}))},onLogout:function(){var t=this;this.$confirm("Do you want to log out?").then((function(e){e&&t.$router.push({name:"logout"})}))}},created:function(){var t=this;this.$store.dispatch("AUTH_USER").then((function(e){t.user=e}))}},u=(i(442),Object(a.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("application-bar",{attrs:{showNotificationDrawer:t.notificationDrawer},on:{"show-drawer":t.showDrawer,"show-notification-drawer":t.showNotificationDrawer,"on-logout":t.onLogout}}),t._v(" "),i("navigation-drawer",{attrs:{user:t.user,showNavigationDrawer:t.drawer},on:{"show-drawer":t.showDrawer,"on-logout":t.onLogout}}),t._v(" "),i("notification-drawer",{attrs:{appNotificationDrawer:t.notificationDrawer},on:{"show-notification-drawer":t.showNotificationDrawer}}),t._v(" "),t.mixin_loggedIn?i("v-main",[i("v-row",{staticClass:"ml-2 mr-2 mt-4 pb-12 mb-5"},[i("v-col",[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("keep-alive",[t.$route.meta.keepAlive?i("router-view"):t._e()],1)],1),t._v(" "),i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.$route.meta.keepAlive?t._e():i("router-view")],1)],1)],1),t._v(" "),i("page-footer")],1):t._e()],1)}),[],!1,null,"09a3284a",null));e.default=u.exports}}]);