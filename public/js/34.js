(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{157:function(e,t,n){"use strict";var r={props:{vendorForm:{type:Object,default:function(){return{code:"",name:"",email:"",tin:"",contact_person:"",mobile_number:"",telephone_number:"",remarks:"",website:"",is_vat_inclusive:!0,address:"",is_active:!0}}},errors:{type:Object,default:function(){return{code:[],name:[],email:[],tin:[],contact_person:[],mobile_number:[],telephone_number:[],remarks:[],website:[],is_vat_inclusive:[],address:[],is_active:[]}}},rules:{type:Object,default:function(){return{tin:[function(e){return 1==(void 0).is_vat_inclusive||"This field is required."}]}}}},data:function(){return{no_tin:!1,valid:!1,row:null,form:{code:"",name:"",email:"",tin:"",contact_person:"",mobile_number:"",telephone_number:"",remarks:"",website:"",is_vat_inclusive:!0,address:""}}},methods:{onSave:function(){this.$refs.form.validate()&&this.$emit("on-save",this.form)}},watch:{vendorForm:{immediate:!0,deep:!0,handler:function(e,t){this.form=e}},"form.is_vat_inclusive":function(){this.form.is_vat_inclusive&&(this.no_tin=!1)},no_tin:function(){this.form.tin=this.no_tin?"N/A":""},"form.tin":function(){"N/A"!=this.form.tin&&null!=this.form.tin||(this.no_tin=!0)}}},o=n(4),a=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("div",{staticClass:"overline green--text"},[e._v("\n        BASIC DETAILS\n    ")]),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"9"}},[n("v-text-field",{attrs:{counter:150,"error-messages":e.errors.name,rules:e.mixin_validation.required.concat(e.mixin_validation.minLength(150)),label:"Name",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-radio-group",{attrs:{row:""},on:{change:function(t){e.no_tin=!1,e.form.tin=""}},model:{value:e.form.is_vat_inclusive,callback:function(t){e.$set(e.form,"is_vat_inclusive",t)},expression:"form.is_vat_inclusive"}},[n("v-radio",{attrs:{label:"VAT",value:!0}}),e._v(" "),n("v-radio",{attrs:{label:"Non-VAT",value:!1}})],1)],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"9",md:"9"}},[n("v-text-field",{attrs:{rules:e.mixin_validation.required,"error-messages":e.errors.tin,counter:100,label:"Tax Identification Number (TIN)",required:"",readonly:e.no_tin},scopedSlots:e._u([{key:"append",fn:function(){},proxy:!0}]),model:{value:e.form.tin,callback:function(t){e.$set(e.form,"tin",t)},expression:"form.tin"}})],1),e._v(" "),n("v-col",{attrs:{cols:"3",md:"3"}},[n("v-checkbox",{attrs:{label:"N/A",readonly:e.form.is_vat_inclusive},model:{value:e.no_tin,callback:function(t){e.no_tin=t},expression:"no_tin"}})],1)],1),e._v(" "),n("v-text-field",{attrs:{rules:[],"error-messages":e.errors.email,label:"Email Address"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),n("v-text-field",{attrs:{rules:[],"error-messages":e.errors.contact_person,counter:100,label:"Contact Person"},model:{value:e.form.contact_person,callback:function(t){e.$set(e.form,"contact_person",t)},expression:"form.contact_person"}}),e._v(" "),n("v-text-field",{attrs:{rules:[],counter:30,"error-messages":e.errors.mobile_number,label:"Mobile Number",type:"number"},on:{input:function(t){e.errors.mobile_number=[]}},model:{value:e.form.mobile_number,callback:function(t){e.$set(e.form,"mobile_number",t)},expression:"form.mobile_number"}}),e._v(" "),n("v-text-field",{attrs:{rules:[],counter:30,"error-messages":e.errors.telephone_number,label:"Telephone Number",type:"number"},on:{input:function(t){e.errors.telephone_number=[]}},model:{value:e.form.telephone_number,callback:function(t){e.$set(e.form,"telephone_number",t)},expression:"form.telephone_number"}}),e._v(" "),n("v-text-field",{attrs:{counter:100,rules:[],"error-messages":e.errors.website,label:"Website"},on:{input:function(t){e.errors.website=[]}},model:{value:e.form.website,callback:function(t){e.$set(e.form,"website",t)},expression:"form.website"}}),e._v(" "),n("v-textarea",{attrs:{"error-messages":e.errors.address,rules:e.mixin_validation.required,label:"Address",rows:"3"},on:{input:function(t){e.errors.address=[]}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),e._v(" "),n("v-row",[n("v-col",{staticClass:"text-right"},[n("v-btn",{attrs:{color:"success",dark:""},on:{click:e.onSave}},[e._v("\n                Save\n            ")]),e._v(" "),n("v-btn",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)],1)],1)}),[],!1,null,null,null);t.a=a.exports},46:function(e,t,n){"use strict";var r=n(10),o=n.n(r);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getAll",value:function(e){return o.a.get("/api/vendors",e)}},{key:"get",value:function(e){return o.a.get("/api/data/vendors",e)}},{key:"show",value:function(e,t){return o.a.get("/api/vendors/".concat(e),t)}},{key:"store",value:function(e){return o.a.post("/api/vendors",e)}},{key:"update",value:function(e,t){return o.a.put("/api/vendors/".concat(e),t)}},{key:"delete",value:function(e,t){return o.a.delete("/api/vendors/".concat(e),t)}},{key:"restore",value:function(e,t){return o.a.put("/api/vendors/restore/".concat(e),t)}},{key:"updateActivation",value:function(e,t){return o.a.put("/api/vendors/update_activation/".concat(e),t)}},{key:"export",value:function(){return o.a.get("/api/vendors/export/data")}}])&&a(t.prototype,n),r&&a(t,r),e}();t.a=new i},910:function(e,t,n){"use strict";n.r(t);var r=n(46),o={components:{Form:n(157).a},data:function(){return{formDataLoaded:!1,form:{code:"",name:"",email:"",tin:"",contact_person:"",mobile_number:"",telephone_number:"",remarks:"",website:"",is_vat_inclusive:!1,address:"",is_active:!0},errors:{code:[],name:[],email:[],tin:[],contact_person:[],mobile_number:[],telephone_number:[],remarks:[],website:[],is_vat_inclusive:[],address:[],is_active:[]}}},methods:{getData:function(){var e=this;r.a.show(this.$route.params.id).then((function(t){var n=t.data.data;e.form.code=n.code,e.form.name=n.name,e.form.email=n.email,e.no_tin=null==n.tin,e.form.tin=null==n.tin?"N/A":n.tin,e.form.contact_person=n.contact_person,e.form.mobile_number=n.mobile_number,e.form.telephone_number=n.telephone_number,e.form.remarks=n.remarks,e.form.website=n.website,e.form.is_vat_inclusive=1==n.is_vat_inclusive,e.form.address=n.address,e.selected_expense_types=n.expense_types?n.expense_types.map((function(e){return e.id})):null,e.formDataLoaded=!0})).catch((function(t){e.mixin_showErrors(t),e.formDataLoaded=!0,e.$router.push({name:"admin.vendors.index"},(function(){}))}))},onSave:function(e){var t=this;e.tin="N/A"==e.tin?null:e.tin,r.a.update(this.$route.params.id,e).then((function(e){t.mixin_successDialog(e.data.status,e.data.message),t.$router.push({name:"admin.vendors.index"})})).catch((function(e){t.mixin_showErrors(e),e.response&&e.response.data&&(t.errors=e.response.data.errors)}))}},created:function(){this.getData()},activated:function(){this.getData()}},a=n(4),i=Object(a.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.formDataLoaded?n("v-card",{staticClass:"elevation-0 pt-0"},[n("v-card-title",{staticClass:"pt-0"},[n("v-btn",{staticClass:"mr-3",attrs:{icon:""},on:{click:function(t){return e.$router.go(-1)}}},[n("v-icon",[e._v("mdi-arrow-left")])],1),e._v(" "),n("v-spacer"),e._v(" "),n("h4",{staticClass:"title green--text"},[e._v("Edit Vendor")])],1),e._v(" "),n("v-container",[n("Form",{attrs:{vendorForm:e.form,errors:e.errors},on:{"on-save":e.onSave}})],1)],1):n("loader-component")],1)}),[],!1,null,null,null);t.default=i.exports}}]);