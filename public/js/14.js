(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{116:function(t,e,n){"use strict";var a=n(65),s={props:{selectedDepartment:{type:Object,default:function(){}},parameters:{type:Object,default:function(){}},rules:{type:Array,default:function(){return[]}},errors:{type:Array,default:function(){return[]}},showAll:{type:Boolean,default:!1}},data:function(){return{departments:[],department:null}},methods:{getDataFromApi:function(){var t=this;return new Promise((function(e,n){a.a.getAll({params:{itemsPerPage:200,isSelection:!0}}).then((function(t){e(t.data)})).catch((function(e){t.mixin_showErrors(e),n()}))}))},onReset:function(){this.department=null,this.$emit("onReset")},onChange:function(t){this.department=t,this.$emit("onChange",t)}},watch:{selectedDepartment:{deep:!0,immediate:!0,handler:function(t,e){this.department=t}}},created:function(){var t=this;this.getDataFromApi().then((function(e){t.departments=e.data,t.showAll&&t.departments.unshift({id:null,name:"All Departments"})}))},activated:function(){var t=this;this.getDataFromApi().then((function(e){t.departments=e.data,t.showAll&&t.departments.unshift({id:null,name:"All Departments"})}))}},r=n(4),o=Object(r.a)(s,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-autocomplete",{attrs:{label:"Department","item-value":"id","item-text":"name","return-object":"",items:t.departments,rules:t.rules,"error-messages":t.errors},on:{change:t.onChange},model:{value:t.department,callback:function(e){t.department=e},expression:"department"}})}),[],!1,null,null,null);e.a=o.exports},27:function(t,e,n){"use strict";var a={name:"page-header",props:{title:""}},s=n(4),r=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card-title",{staticClass:"pt-0"},[n("h4",{staticClass:"title green--text"},[t._v(t._s(t.title))]),t._v(" "),n("v-spacer"),t._v(" "),t._t("actions")],2),t._v(" "),n("v-card-subtitle",[t._t("sub-actions")],2)],1)}),[],!1,null,null,null);e.a=r.exports},59:function(t,e,n){"use strict";var a=n(10),s=n.n(a);function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,(n=[{key:"getAll",value:function(t){return s.a.get("/api/jobs",t)}},{key:"get",value:function(t){return s.a.get("/api/data/jobs",t)}},{key:"show",value:function(t,e){return s.a.get("/api/jobs/".concat(t),e)}},{key:"store",value:function(t){return s.a.post("/api/jobs",t)}},{key:"update",value:function(t,e){return s.a.put("/api/jobs/".concat(t),e)}},{key:"delete",value:function(t,e){return s.a.delete("/api/jobs/".concat(t),e)}},{key:"restore",value:function(t,e){return s.a.put("/api/jobs/restore/".concat(t),e)}}])&&r(e.prototype,n),a&&r(e,a),t}();e.a=new o},65:function(t,e,n){"use strict";var a=n(10),s=n.n(a);function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,(n=[{key:"getAll",value:function(t){return s.a.get("/api/departments",t)}},{key:"get",value:function(t){return s.a.get("/api/data/departments",t)}},{key:"show",value:function(t,e){return s.a.get("/api/departments/".concat(t),e)}},{key:"store",value:function(t){return s.a.post("/api/departments",t)}},{key:"update",value:function(t,e){return s.a.put("/api/departments/".concat(t),e)}},{key:"delete",value:function(t,e){return s.a.delete("/api/departments/".concat(t),e)}},{key:"restore",value:function(t,e){return s.a.put("/api/departments/restore/".concat(t),e)}}])&&r(e.prototype,n),a&&r(e,a),t}();e.a=new o},905:function(t,e,n){"use strict";n.r(e);var a=n(59),s=n(27),r=n(116);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={components:{PageHeader:s.a,DepartmentDropdownSelector:r.a},data:function(){return{formDataLoaded:!1,loading:!0,collections:{selected:[],items:[],headers:[{text:"Name",value:"name"},{text:"Department",value:"department.name"},{text:"Actions",value:"actions",sortable:!1}]},filters:{department:{id:null,name:"All Departments"},status:"Active",search:"",statuses:["Active","Archived"]},options:{sortBy:["name"],sortDesc:[!1],page:1,itemsPerPage:10},meta:{current_page:0,from:0,last_page:0,path:"",per_page:10,to:0,total:0}}},methods:{onSearch:function(){var t=this;this.getDataFromApi().then((function(e){t.collections.items=e.data,t.meta=e.meta}))},onChangeDepartment:function(t){this.filters.department=t},getDataFromApi:function(){var t=this;return this.loading=!0,new Promise((function(e,n){var s=t.options,r=s.sortBy,o=s.sortDesc,i=s.page,c=s.itemsPerPage,l=t.filters.search.trim().toLowerCase(),u=t.filters.department.id,d=t.filters.status,m="Archived"==t.filters.status,p={params:{search:l,sortBy:r[0],sortType:o[0]?"desc":"asc",page:i,itemsPerPage:c,status:d,department_id:u,isDeleted:m}};a.a.getAll(p).then((function(n){t.loading=!1,t.formDataLoaded=!0,e(n.data)})).catch((function(e){t.mixin_showErrors(e),t.loading=!1,t.formDataLoaded=!0,n()}))}))},onRefresh:function(){Object.assign(this.$data,this.$options.data.apply(this)),this.collections.selected=[]},onShow:function(t){var e={id:t.id};t.deleted_at&&(e={id:t.id,isDeleted:!0}),this.$router.push({name:"admin.jobs.show",params:e})},onEdit:function(t){this.$router.push({name:"admin.jobs.edit",params:{id:t.id}})},onDelete:function(){var t=this;0!=this.collections.selected.length?this.$confirm("Move item(s) to archive?").then((function(e){if(e){var n=t.collections.selected.map((function(t){return t.id}));a.a.delete(n).then((function(e){t.mixin_successDialog(e.data.status,e.data.message),t.getDataFromApi().then((function(e){t.collections.items=e.data,t.meta=e.meta})),t.collections.selected=[]})).catch((function(e){t.mixin_showErrors(e)}))}})):this.mixin_errorDialog("Error","No item(s) selected")},onRestore:function(){var t=this;0!=this.collections.selected.length?this.$confirm("Do you want to restore account(s)?").then((function(e){if(e){var n=t.collections.selected.map((function(t){return t.id}));a.a.restore(n).then((function(e){t.mixin_successDialog(e.data.status,e.data.message),t.getDataFromApi().then((function(e){t.collections.items=e.data,t.meta=e.meta})),t.collections.selected=[]})).catch((function(e){t.mixin_showErrors(e)}))}})):this.mixin_errorDialog("Error","No item(s) selected")}},computed:{params:function(t){return i(i({},this.options),{},c({query:this.filters.status},"query",this.filters.department))}},watch:{"filters.search":function(){var t=this;""==this.filters.search&&this.getDataFromApi().then((function(e){t.collections.items=e.data,t.meta=e.meta}))},params:{immediate:!0,deep:!0,handler:function(){var t=this;this.getDataFromApi().then((function(e){t.collections.items=e.data,t.meta=e.meta}))}}},activated:function(){var t=this;this.$store.dispatch("AUTH_NOTIFICATIONS"),this.getDataFromApi().then((function(e){t.collections.items=e.data,t.meta=e.meta}))}},u=n(4),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.formDataLoaded?n("v-card",{staticClass:"elevation-0 pt-0"},[n("page-header",{attrs:{title:"Job Designations"},scopedSlots:t._u([{key:"actions",fn:function(){return[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([t.mixin_can("add jobs")?{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"elevation-3 mr-2",attrs:{color:"green",to:{name:"admin.jobs.create"},dark:"",fab:"","x-small":""}},"v-btn",s,!1),a),[n("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)]}}:null],null,!0)},[t._v(" "),n("span",[t._v("Add New")])])]},proxy:!0}])}),t._v(" "),n("v-row",{staticClass:"ml-4"},[t.collections.selected.length>0?n("v-chip",{staticClass:"mr-2 mb-2",attrs:{color:"green",dark:"",close:"",small:"","close-icon":"mdi-close"},on:{"click:close":function(e){t.collections.selected=[]}}},[t._v("\n                "+t._s(t.collections.selected.length)+" Selected\n            ")]):t._e(),t._v(" "),n("v-menu",{attrs:{transition:"scale-transition","close-on-content-click":!1,"nudge-width":200,"offset-y":"",right:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[null!=t.filters.status?n("v-chip",t._g(t._b({staticClass:"mr-2 mb-2",attrs:{small:""}},"v-chip",s,!1),a),[t._v("\n                        "+t._s(t.filters.status)+"\n                    ")]):t._e()]}}])},[t._v(" "),n("v-card",[n("v-list",[n("v-list-item",[n("v-select",{attrs:{items:t.filters.statuses,label:"Status"},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}})],1)],1)],1)],1),t._v(" "),n("v-menu",{attrs:{transition:"scale-transition","close-on-content-click":!1,"nudge-width":200,"offset-y":"",right:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[null!=t.filters.department?n("v-chip",t._g(t._b({staticClass:"mr-2 mb-2",attrs:{small:""}},"v-chip",s,!1),a),[t._v("\n                        "+t._s(t.filters.department.name)+"\n                    ")]):t._e()]}}])},[t._v(" "),n("v-card",[n("v-list",[n("v-list-item",[n("DepartmentDropdownSelector",{ref:"departmentDropdownSelector",attrs:{selectedDepartment:t.filters.department,showAll:!0},on:{onChange:t.onChangeDepartment}})],1)],1)],1)],1),t._v(" "),n("v-chip",{staticClass:"mr-2 mb-2",attrs:{close:"",small:"","close-icon":"mdi-refresh"},on:{"click:close":t.onRefresh}},[t._v("\n                Refresh\n            ")]),t._v(" "),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:t.collections.selected.length>0&&"Archived"==t.filters.status,expression:"\n                    collections.selected.length > 0 &&\n                        filters.status == 'Archived'\n                "}],staticClass:"mr-2 mb-2",attrs:{close:"",small:"","close-icon":"mdi-history",color:"green",dark:""},on:{"click:close":t.onRestore}},[t._v("\n                Restore\n            ")]),t._v(" "),n("v-chip",{directives:[{name:"show",rawName:"v-show",value:t.collections.selected.length>0&&"Active"==t.filters.status,expression:"\n                    collections.selected.length > 0 &&\n                        filters.status == 'Active'\n                "}],staticClass:"mr-2 mb-2",attrs:{close:"",small:"","close-icon":"mdi-trash-can-outline",color:"red",dark:""},on:{"click:close":t.onDelete}},[t._v("\n                Archive\n            ")])],1),t._v(" "),n("v-card-subtitle",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch(e)}},model:{value:t.filters.search,callback:function(e){t.$set(t.filters,"search",e)},expression:"filters.search"}})],1),t._v(" "),n("v-card-text",[n("v-data-table",{staticClass:"elevation-0",attrs:{headers:t.collections.headers,items:t.collections.items,loading:t.loading,options:t.options,"server-items-length":t.meta.total,"footer-props":{itemsPerPageOptions:[10,20,50,100],showFirstLastPage:!0,firstIcon:"mdi-page-first",lastIcon:"mdi-page-last",prevIcon:"mdi-chevron-left",nextIcon:"mdi-chevron-right"},"show-select":"","item-key":"id"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var a=e.item;return[t.mixin_can("edit jobs")&&null==a.deleted_at?n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.onEdit(a)}}},[t._v("\n                        mdi-pencil\n                    ")]):t._e()]}}],null,!0),model:{value:t.collections.selected,callback:function(e){t.$set(t.collections,"selected",e)},expression:"collections.selected"}})],1)],1):n("loader-component")],1)}),[],!1,null,null,null);e.default=d.exports}}]);