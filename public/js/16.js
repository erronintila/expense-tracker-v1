(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{116:function(e,t,n){"use strict";var a=n(65),r={props:{selectedDepartment:{type:Object,default:function(){}},parameters:{type:Object,default:function(){}},rules:{type:Array,default:function(){return[]}},errors:{type:Array,default:function(){return[]}},showAll:{type:Boolean,default:!1}},data:function(){return{departments:[],department:null}},methods:{getDataFromApi:function(){var e=this;return new Promise((function(t,n){a.a.getAll({params:{itemsPerPage:200,isSelection:!0}}).then((function(e){t(e.data)})).catch((function(t){e.mixin_showErrors(t),n()}))}))},onReset:function(){this.department=null,this.$emit("onReset")},onChange:function(e){this.department=e,this.$emit("onChange",e)}},watch:{selectedDepartment:{deep:!0,immediate:!0,handler:function(e,t){this.department=e}}},created:function(){var e=this;this.getDataFromApi().then((function(t){e.departments=t.data,e.showAll&&e.departments.unshift({id:null,name:"All Departments"})}))},activated:function(){var e=this;this.getDataFromApi().then((function(t){e.departments=t.data,e.showAll&&e.departments.unshift({id:null,name:"All Departments"})}))}},o=n(4),i=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-autocomplete",{attrs:{label:"Department","item-value":"id","item-text":"name","return-object":"",items:e.departments,rules:e.rules,"error-messages":e.errors},on:{change:e.onChange},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}})}),[],!1,null,null,null);t.a=i.exports},156:function(e,t,n){"use strict";var a=n(116),r={props:{jobForm:{type:Object,default:function(){return{name:null,department:null}}},errors:{type:Object,default:function(){return{name:[],department_id:[]}}}},components:{DepartmentDropdownSelector:a.a},data:function(){return{valid:!1,form:{name:null,department:null}}},methods:{onChangeDepartment:function(e){this.form.department=e},onSave:function(){this.$refs.form.validate()&&this.$emit("on-save",this.form)}},watch:{jobForm:{deep:!0,immediate:!0,handler:function(e,t){this.form=e}}}},o=n(4),i=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[n("DepartmentDropdownSelector",{ref:"departmentDropdownSelector",attrs:{selectedDepartment:e.form.department,rules:e.mixin_validation.required,errors:e.errors.department_id},on:{onChange:e.onChangeDepartment}})],1),e._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{rules:e.mixin_validation.required.concat(e.mixin_validation.minLength(100)),counter:100,"error-messages":e.errors.name,label:"Name",required:""},on:{input:function(t){e.errors.name=[]}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{staticClass:"text-right"},[n("v-btn",{attrs:{color:"green",dark:""},on:{click:e.onSave}},[e._v("Save")]),e._v(" "),n("v-btn",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)],1)],1)}),[],!1,null,null,null);t.a=i.exports},59:function(e,t,n){"use strict";var a=n(10),r=n.n(a);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"getAll",value:function(e){return r.a.get("/api/jobs",e)}},{key:"get",value:function(e){return r.a.get("/api/data/jobs",e)}},{key:"show",value:function(e,t){return r.a.get("/api/jobs/".concat(e),t)}},{key:"store",value:function(e){return r.a.post("/api/jobs",e)}},{key:"update",value:function(e,t){return r.a.put("/api/jobs/".concat(e),t)}},{key:"delete",value:function(e,t){return r.a.delete("/api/jobs/".concat(e),t)}},{key:"restore",value:function(e,t){return r.a.put("/api/jobs/restore/".concat(e),t)}}])&&o(t.prototype,n),a&&o(t,a),e}();t.a=new i},65:function(e,t,n){"use strict";var a=n(10),r=n.n(a);function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"getAll",value:function(e){return r.a.get("/api/departments",e)}},{key:"get",value:function(e){return r.a.get("/api/data/departments",e)}},{key:"show",value:function(e,t){return r.a.get("/api/departments/".concat(e),t)}},{key:"store",value:function(e){return r.a.post("/api/departments",e)}},{key:"update",value:function(e,t){return r.a.put("/api/departments/".concat(e),t)}},{key:"delete",value:function(e,t){return r.a.delete("/api/departments/".concat(e),t)}},{key:"restore",value:function(e,t){return r.a.put("/api/departments/restore/".concat(e),t)}}])&&o(t.prototype,n),a&&o(t,a),e}();t.a=new i},907:function(e,t,n){"use strict";n.r(t);var a=n(59),r={components:{Form:n(156).a},data:function(){return{formDataLoaded:!1,form:{name:"",department:null},errors:{name:[],department_id:[]}}},methods:{getData:function(){var e=this;a.a.show(this.$route.params.id).then((function(t){var n=t.data.data;e.form.name=n.name,e.form.department=n.department,e.formDataLoaded=!0})).catch((function(t){e.mixin_showErrors(t),t.response&&t.response.data&&(e.errors=t.response.data.errors),e.formDataLoaded=!0,e.$router.push({name:"admin.jobs.index"},(function(){}))}))},onSave:function(e){var t=this,n={name:e.name,department_id:e.department.id};a.a.update(this.$route.params.id,n).then((function(e){t.mixin_successDialog(e.data.status,e.data.message),t.$router.push({name:"admin.jobs.index"})})).catch((function(e){t.mixin_showErrors(e),e.response&&e.response.data&&(t.errors=e.response.data.errors)}))}},created:function(){this.getData()},activated:function(){this.getData()}},o=n(4),i=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.formDataLoaded?n("v-card",{staticClass:"elevation-0 pt-0"},[n("v-card-title",{staticClass:"pt-0"},[n("v-btn",{staticClass:"mr-3",attrs:{icon:""},on:{click:function(t){return e.$router.go(-1)}}},[n("v-icon",[e._v("mdi-arrow-left")])],1),e._v(" "),n("v-spacer"),e._v(" "),n("h4",{staticClass:"title green--text"},[e._v("Edit Job Designation")])],1),e._v(" "),n("v-container",[n("Form",{attrs:{errors:e.errors,jobForm:e.form},on:{"on-save":e.onSave}})],1)],1):n("loader-component")],1)}),[],!1,null,null,null);t.default=i.exports}}]);